<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Writing An Indexer Module</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.1">
<link rel="home" href="index.html" title="Tracker Indexer Reference Manual">
<link rel="up" href="integrating-applications.html" title="Part II. Integrating Applications">
<link rel="prev" href="testing-an-extractor.html" title="Testing An Extractor">
<link rel="next" href="creating-extractor-module-binary.html" title="Creating an extractor module binary">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="tracker-indexer.html" title="Part I. Overview">
<link rel="chapter" href="ch01.html" title="Modules">
<link rel="chapter" href="ch02.html" title="Metadata">
<link rel="part" href="integrating-applications.html" title="Part II. Integrating Applications">
<link rel="chapter" href="adding-categories.html" title="Adding Categories &amp; Properties">
<link rel="chapter" href="writing-an-extractor.html" title="Writing An Extractor">
<link rel="chapter" href="writing-an-indexer-module.html" title="Writing An Indexer Module">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="testing-an-extractor.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="integrating-applications.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Tracker Indexer Reference Manual</th>
<td><a accesskey="n" href="creating-extractor-module-binary.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="chapter" title="Writing An Indexer Module">
<div class="titlepage"><div>
<div><h2 class="title">
<a name="writing-an-indexer-module"></a>Writing An Indexer Module</h2></div>
<div><div class="author">
<h3 class="author">
<span class="firstname">Carlos</span> <span class="surname">Garnacho</span>
</h3>
<div class="affiliation"><div class="address"><p><br>
	  <code class="email">&lt;<a class="email" href="mailto:carlos@imendio.com">carlos@<em class="parameter"><code>imendio.com</code></em></a>&gt;</code><br>
	</p></div></div>
</div></div>
</div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="writing-an-indexer-module.html#creating-module-definition-file">Creating a module definition file</a></span></dt>
<dt><span class="section"><a href="creating-extractor-module-binary.html">Creating an extractor module binary</a></span></dt>
</dl></div>
<p>
    Tracker's indexer has a modular design, so applications can
    specify where to locate the data to extract metadata from,
    plus how it should be extracted. To achieve this,
    tracker-indexer needs two files, one to define module behavior
    (.module files) plus a .so file that will be called on each
    of the files the module is interested in.
  </p>
<div class="section" title="Creating a module definition file">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="creating-module-definition-file"></a>Creating a module definition file</h2></div></div></div>
<p>
      .module files are a key file with the following format:

      </p>
<pre class="programlisting">
[General]
Description=My extractor
Enabled=true

[Monitors]
Directories=
RecurseDirectories=$HOME/Documents;$HOME/Music

[Ignored]
Directories=
Files=

[Index]
Service=EvolutionEmails
MimeTypes=
Files=
      </pre>
<p>

      This file will be installed in $prefix/share/tracker/modules/ and
      it must share the same name with the corresponding .so file, prefixed with
      "libtracker-module-" (that is, for my-extractor.module, there must be
      a libtracker-module-my-extractor.so)
    </p>
<div class="table">
<a name="id498129"></a><p class="title"><b>Table 1. Module file description</b></p>
<div class="table-contents">
<table summary="Module file description" width="100%" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr><th colspan="2" align="center">General</th></tr></thead>
<tbody>
<tr>
<td>Description</td>
<td>A short description for the module</td>
</tr>
<tr>
<td>Enabled</td>
<td>Whether the module is enabled or not. This is useful at a sysadmin level.</td>
</tr>
</tbody>
</table>
<table summary="Module file description" width="100%" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr><th colspan="2" align="center">Monitors</th></tr></thead>
<tbody>
<tr>
<td>Directories</td>
<td>
              Semicolon separated list of directories that
              the module will handle, the indexer will not
              recurse into their contents.
            </td>
</tr>
<tr>
<td>RecurseDirectories</td>
<td>
              Semicolon separated list of directories
              that the module will handle, the indexer
              will recurse inside these directories' contents.
            </td>
</tr>
</tbody>
</table>
<table summary="Module file description" width="100%" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr><th colspan="2" align="center">Ignored</th></tr></thead>
<tbody>
<tr>
<td>Directories</td>
<td>Directories that the indexer will skip.</td>
</tr>
<tr>
<td>Files</td>
<td>Files that the indexer will skip.</td>
</tr>
</tbody>
</table>
</div>
</div>
<br class="table-break">
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
