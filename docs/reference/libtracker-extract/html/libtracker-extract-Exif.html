<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Exif</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.0">
<link rel="home" href="index.html" title="Tracker Extract Library Reference Manual">
<link rel="up" href="ch03.html" title="Common Embedded Support API">
<link rel="prev" href="libtracker-extract-IPTC.html" title="IPTC">
<meta name="generator" content="GTK-Doc V1.17 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libtracker-extract-IPTC.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch03.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Tracker Extract Library Reference Manual</th>
<td> </td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libtracker-extract-Exif.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#libtracker-extract-Exif.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="libtracker-extract-Exif"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libtracker-extract-Exif.top_of_page"></a>Exif</span></h2>
<p>Exif — Exchangeable Image File Format (EXIF)</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="libtracker-extract-Exif.stability-level"></a><h2>Stability Level</h2>
Stable, unless otherwise indicated
</div>
<div class="refsynopsisdiv">
<a name="libtracker-extract-Exif.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;libtracker-extract/tracker-extract.h&gt;

                    <a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData">TrackerExifData</a>;
<a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="returnvalue">TrackerExifData</span></a> *   <a class="link" href="libtracker-extract-Exif.html#tracker-exif-new" title="tracker_exif_new ()">tracker_exif_new</a>                    (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guchar"><span class="type">guchar</span></a> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> len</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="libtracker-extract-Exif.html#tracker-exif-free" title="tracker_exif_free ()">tracker_exif_free</a>                   (<em class="parameter"><code><a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a> *data</code></em>);
<a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="libtracker-extract-Exif.html#tracker-exif-read" title="tracker_exif_read ()">tracker_exif_read</a>                   (<em class="parameter"><code>const unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> len</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a> *data</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="libtracker-extract-Exif.description"></a><h2>Description</h2>
<p>
Exchangeable Image File Format (EXIF) is a specification for the
image file format used by digital cameras. The specification uses
the existing JPEG, TIFF Rev. 6.0, and RIFF WAV file formats, with
the addition of specific metadata tags. It is not supported in JPEG
2000, PNG, or GIF.
</p>
<p>
This API is provided to remove code duplication between extractors
using these standards.
</p>
</div>
<div class="refsect1">
<a name="libtracker-extract-Exif.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="TrackerExifData"></a><h3>TrackerExifData</h3>
<pre class="programlisting">typedef struct {
	gchar *y_dimension;
	gchar *x_dimension;
	gchar *image_width;
	gchar *document_name;
	gchar *time;
	gchar *time_original;
	gchar *artist;
	gchar *user_comment;
	gchar *description;
	gchar *make;
	gchar *model;
	gchar *orientation;
	gchar *exposure_time;
	gchar *fnumber;
	gchar *flash;
	gchar *focal_length;
	gchar *iso_speed_ratings;
	gchar *metering_mode;
	gchar *white_balance;
	gchar *copyright;
	gchar *software;
	gchar *x_resolution;
	gchar *y_resolution;
	gint resolution_unit;

	/* ABI barrier (don't change things above this) */
	gchar *gps_altitude;
	gchar *gps_latitude;
	gchar *gps_longitude;
	gchar *gps_direction;
} TrackerExifData;
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-exif-new"></a><h3>tracker_exif_new ()</h3>
<pre class="programlisting"><a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="returnvalue">TrackerExifData</span></a> *   tracker_exif_new                    (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#guchar"><span class="type">guchar</span></a> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> len</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>);</pre>
<p>
This function takes <em class="parameter"><code>len</code></em> bytes of <em class="parameter"><code>buffer</code></em> and runs it through the
EXIF library.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a chunk of data with exif data in it.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>len</code></em> :</span></p></td>
<td>the size of <em class="parameter"><code>buffer</code></em>.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td>the URI this is related to.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly allocated <a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a> struct if EXIF data was
found, <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> otherwise. Free the returned struct with <a class="link" href="libtracker-extract-Exif.html#tracker-exif-free" title="tracker_exif_free ()"><code class="function">tracker_exif_free()</code></a>.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.10</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-exif-free"></a><h3>tracker_exif_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                tracker_exif_free                   (<em class="parameter"><code><a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a> *data</code></em>);</pre>
<p>
Frees <em class="parameter"><code>data</code></em> and all <a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a> members. <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> will produce a
a warning.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em> :</span></p></td>
<td>a <a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 0.10</p>
</div>
<hr>
<div class="refsect2">
<a name="tracker-exif-read"></a><h3>tracker_exif_read ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            tracker_exif_read                   (<em class="parameter"><code>const unsigned <span class="type">char</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">size_t</span> len</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libtracker-extract-Exif.html#TrackerExifData" title="TrackerExifData"><span class="type">TrackerExifData</span></a> *data</code></em>);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">tracker_exif_read</code> is deprecated and should not be used in newly-written code. 0.9. Use <a class="link" href="libtracker-extract-Exif.html#tracker-exif-new" title="tracker_exif_new ()"><code class="function">tracker_exif_new()</code></a> instead.</p>
</div>
<p>
This function takes <em class="parameter"><code>len</code></em> bytes of <em class="parameter"><code>buffer</code></em> and runs it through the
EXIF library. The result is that <em class="parameter"><code>data</code></em> is populated with the EXIF
data found in <em class="parameter"><code>uri</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a chunk of data with exif data in it.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>len</code></em> :</span></p></td>
<td>the size of <em class="parameter"><code>buffer</code></em>.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td>the URI this is related to.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em> :</span></p></td>
<td>a pointer to a TrackerExifData struture to populate.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the <em class="parameter"><code>data</code></em> was populated successfully, otherwise
<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> is returned.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.8</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.17</div>
</body>
</html>