tracker (0.6.6-2) UNRELEASED; urgency=low

  * debian/control
    - Add Build-Depends on pkg-config.
    - Add Vcs-* fields.
    - Replace Recommends on o3read with odt2txt.
  * debian/patches/01-secure_tmpdir.patch
    - Use mktemp to create a secure tmpdir for the msword filter.
      Thanks to Jon Dowland for the patch. Closes: #473733
  * Add symbols files for libtrackerclient0 and libtracker-gtk0. 
  * debian/patches/02-static_keywords_reply.patch
    - Make _keywords_reply a static function to not export it in the public
      API.
  * debian/patches/03-prefer_odt2txt.patch
    - Use odt2txt to index OpenOffice documents. Closes: #478091

 -- Michael Biebl <biebl@debian.org>  Fri, 23 May 2008 15:03:21 +0200

tracker (0.6.6-1) unstable; urgency=low

  * New upstream release.
  * debian/control
    - Wrap dependencies.

 -- Michael Biebl <biebl@debian.org>  Mon, 03 Mar 2008 19:21:45 +0100

tracker (0.6.5-1) unstable; urgency=low

  * New upstream release.
    - Merge messsage notifications have been removed. Closes: #463519
  * Removed patches that were merged upstream
    - debian/patches/01-libtracker_gtk_missing_libs.patch
    - debian/patches/02-tracker_log_file.patch
    - debian/patches/03_no_initial_index_in_battery.patch
    - debian/patches/04_fix_crash_index_name_is_null.patch
    - debian/patches/05_typo_audio_track_peak_gain_tag.patch
    - debian/patches/06_trackerd_infinite_loop.patch
  * debian/rules
    - Exclude /usr/lib/tracker/extract-modules/ from dh_makeshlibs.
  * debian/tracker.install
    - Install *.so files from /usr/lib/tracker/extract-modules/.
  * debian/tracker-search-tool.install
    - Install /usr/share/tracker/tracker-applet-prefs.glade.

 -- Michael Biebl <biebl@debian.org>  Thu, 28 Feb 2008 07:14:18 +0100

tracker (0.6.4-3) unstable; urgency=low

  * debian/control
    - Replace Build-Depends python-central with python-support.
    - Remove X[BS]-Python-Version fields.
  * debian/rules
    - Add call to dh_pysupport passing it the path of the deskbar-applet
      modules directory.
    - Remove dh_pycentral.
  * debian/tracker-search-tool.menu
    - Add a menu file for tracker-search-tool. Closes: #438959

 -- Michael Biebl <biebl@debian.org>  Sun, 24 Feb 2008 02:36:23 +0100

tracker (0.6.4-2) unstable; urgency=low

  * Merge a few patches from the Ubuntu package.
    - debian/patches/03_no_initial_index_in_battery.patch:
      + Do not run the initial index if running on battery.
        Patch taken from upstream SVN, revision 1075:
        http://svn.gnome.org/viewvc/tracker?view=revision&revision=1075
    - debian/patches/04_fix_crash_index_name_is_null.patch:
      + Fix a crash when index name is null during merging.
        Patch taken from upstream SVN, revision 1076:
        http://svn.gnome.org/viewvc/tracker?view=revision&revision=1076
    - debian/patches/05_typo_audio_track_peak_gain_tag.patch:
      + Fix a typo in a tag metadata.
        Patch taken from upstream SVN, revision 1077:
        http://svn.gnome.org/viewvc/tracker?view=revision&revision=1077
    - debian/patches/06_trackerd_infinite_loop.patch:
      + Fix an infinite loop in trackerd if a second instance is launched.
        Closes:#460176. Patch taken from upstream SVN, revision 1079:
        http://svn.gnome.org/viewvc/tracker?view=revision&revision=1079

 -- Michael Biebl <biebl@debian.org>  Fri, 25 Jan 2008 06:43:19 +0100

tracker (0.6.4-1) unstable; urgency=low

  * New upstream release.
    - Check for dbus errors in tracker-status. Closes: #445499
    - Fix memory leaks in trackerd. Closes: #451216
    - Check for changed/removed files on startup and correctly handle
      NoWatchDirectories. Closes: #412116
  * debian/control
    - Bump Standards-Version to 3.7.3. No further changes required.
    - Add Build-Depends on libnotify-dev (>= 0.4.3) and raise Build-Depends on
      libgtk2.0-dev (>= 2.10.0). Required for compiling tracker-applet.
    - Add Build-Depends on libhal-dev (>= 0.5). Required for battery status
      detection support.
  * debian/patches/01-stemming_languages.patch
    - Removed, merged upstream.
  * debian/patches/02-memleak_fix.patch
    - Removed, merged upstream.
  * debian/patches/01-libtracker_gtk_missing_libs.patch
    - libtracker-gtk uses symbols from libtrackerclient, so make sure we link
      against it.
  * debian/patches/02-tracker_log_file.patch
    - Pull tracker log file fix from svn (r1074).
  * debian/rules
    - Pass --enable-trackerapplet to DEB_CONFIGURE_EXTRA_FLAGS. This enables
      the compilation of tracker-applet, an application for the GNOME
      notification area which shows the status of the trackerd daemon and
      allows to quickly access the most frequently used actions.
  * debian/tracker-search-tool.manpages
    - Install the tracker-applet man page.
  * debian/tracker-search-tool.install
    - Install the tracker-applet binary and its autostart desktop file.

 -- Michael Biebl <biebl@debian.org>  Tue, 11 Dec 2007 20:22:15 +0100

tracker (0.6.3-3) unstable; urgency=low

  * Fix the path for the deskbar-applet modules directory. Closes: #445588

 -- Michael Biebl <biebl@debian.org>  Thu, 18 Oct 2007 16:21:15 +0200

tracker (0.6.3-2) unstable; urgency=low

  * Enable the new-style module for deskbar-applet. Closes: #445588
  * debian/rules
    - Pass "--enable-deskbar-applet=module" to DEB_CONFIGURE_EXTRA_FLAGS.
  * debian/control
    - Make the dependency on deskbar-applet versioned as the new-style module
      only works with deskbar-applet >= 2.20.0.
  * debian/libdeskbar-tracker.install
    - The new-style deskbar-applet modules are installed to a different path,
      update the install file accordingly.

 -- Michael Biebl <biebl@debian.org>  Wed, 17 Oct 2007 20:37:07 +0200

tracker (0.6.3-1) unstable; urgency=low

  * New upstream release.
  * debian/patches/01-version_fix.patch
    - Removed, merged upstream.
  * debian/patches/02-getenv.patch
    - Removed, merged upstream.
  * debian/patches/03-system_ioprio.patch
    - Removed, fixed upstream.
  * debian/control
    - Build-Depend on libqdbm-dev (again); qdbm proved to be a lot faster and
      less ressource hungy for the index databases than sqlite3.
    - Enable XMP support by adding a Build-Depends on libexempi-dev.
    - Use the new "Homepage:" field to specify the upstream URL.
  * debian/rules
    - Build against the system qdbm libray.
    - Pass "-Wl,-Bsymbolic" to LDFLAGS. This will avoid namespace conflicts
      which can lead to all kinds of subtle bugs in clients that load
      libtrackerclient via dlopen. Closes: #443824

 -- Michael Biebl <biebl@debian.org>  Fri, 28 Sep 2007 11:25:49 +0200

tracker (0.6.2-2) unstable; urgency=low

  * debian/patches/02-getenv.patch
    - Include stdlib.h in tracker-apps.c for the getenv function prototype.
      Patch by dann frazier, thanks. Closes: #440997
  * debian/patches/03-system_ioprio.patch
    - Use the ioprio syscalls defined by linux-libc-dev. Fixes a FTBFS on hppa
      and m68k.

 -- Michael Biebl <biebl@debian.org>  Fri, 14 Sep 2007 11:43:05 +0200

tracker (0.6.2-1) unstable; urgency=low

  * New upstream release.
  * debian/patches/10-function_prototypes.patch
    - Removed, merged upstream.
  * debian/patches/01-version_fix.patch
    - Fix the version number shown at trackerd start.
  * debian/control
    - Drop Build-Depends on libqdbm-dev. Tracker now uses sqlite3 for all of
      its databases.
    - Bump Build-Depends on libsqlite3-dev to >= 3.4 as the new sqlite based
      indexer requires the incremental blob I/0 feature of sqlite 3.4.
  * debian/rules
    - Add --enable-deskbar-applet=handler to DEB_CONFIGURE_EXTRA_FLAGS.
      deskbar-applet in unstable still uses the "old-style" handler interface.
    - Drop --enable-external-sqlite and --enable-external-qdbm from
      DEB_CONFIGURE_EXTRA_FLAGS. These configure options are now obsolete.

 -- Michael Biebl <biebl@debian.org>  Wed, 05 Sep 2007 22:30:28 +0200

tracker (0.6.1-1) unstable; urgency=low

  * New upstream release.
  * debian/patches/10-deskbar_plugin_hashbang.patch
    - Removed, merged upstream.
  * debian/patches/10-function_prototypes.patch
    - Add missing function prototype definitions. Closes: #435774
  * debian/rules
    - Generate tight shlibs dependencies by passing -V to dh_makeshlibs.
      Closes: #435840
  * debian/tracker-search-tool.manpages
    - Install tracker-preferences man page.

 -- Michael Biebl <biebl@debian.org>  Thu, 09 Aug 2007 18:32:11 +0200

tracker (0.6.0-1) unstable; urgency=low

  * New upstream release.
    - Uses XDG directories to store the settings, cache, database and log 
      files. Closes: #414860
    - Fixes the crash of the deskbar applet at session start. Closes: #434078 
    - Does not fall back to polling when the inotify limit is exceeded.
      Closes: #412089
    - Correctly uses xdg-open to open the search results with the preferred
      application. This requires the xdg-utils package to be installed, which
      is a Recommends of tracker-search-tool. Closes: 415705
  * Removed debian/man/ as the man pages are now shipped upstream. 
    Update tracker.manpages, tracker-search-tool.manpages and 
    tracker-utils.manpages accordingly.
  * Removed patches that were applied upstream or are now obsolete
    - debian/patches/20-trackerd_manpage.patch
    - debian/patches/30-deskbar_plugin_max_results.patch
    - debian/patches/40-inotify_syscalls.patch
    - debian/patches/50-expand_pathname.patch
    - debian/patches/60-check_pointer.patch
    - debian/patches/70-check_magic_file_results.patch
  * debian/copyright
    - The htmless sources are not shipped anymore and the qdbm sources are now
      in a separate subdirectory. Update the copyright file accordingly.
  * debian/libtracker-gtk-dev.install, debian/libtracker-gtk0.install
    - Added. libtracker-gtk is a new library that provides handy GTK+ widgets
      for applications that use tracker.
  * debian/control
    - Drop libmagic-dev from Build-Depends, add libunac1-dev and libqdbm-dev.
    - Add djvulibre-bin and gnumeric to Suggests. They are used as external
      filters for indexing djvu, csv and spreadsheet documents.
    - Add binary packages libtracker-gtk0 and libtracker-gtk-dev.
    - Update the long description of tracker-utils and include the new tool
      "tracker-status".
    - Add binary package tracker-dbg which provides the debugging symbols of
      trackerd and its utilities. Closes: #412140
  * debian/rules
    - Make sure we link against the system qdbm library.
    - Enable the support for libunac.
    - Explicitly enable the compilation of the GUI, the preferences applet
      and libtracker-gtk.

 -- Michael Biebl <biebl@debian.org>  Thu, 26 Jul 2007 01:13:37 +0200

tracker (0.5.4-6) unstable; urgency=low

  * Rebuild against poppler 0.5.4. Closes: #427815
  * Don't install htmless binary and man page anymore. 
    The html filter now uses w3m.

 -- Michael Biebl <biebl@debian.org>  Wed, 06 Jun 2007 22:39:00 +0200

tracker (0.5.4-5) unstable; urgency=low

  * debian/patches/70-check-magic-file-results.patch
    - Check the return results of magic_file. Closes: #414444
      Thanks to Sam Morris for the patch.

 -- Michael Biebl <biebl@debian.org>  Thu, 22 Mar 2007 18:23:50 +0100

tracker (0.5.4-4) unstable; urgency=low

  * debian/patches/50-expand_pathname.patch
    - Expand relative paths passed to tracker-thumbnailer. Closes: #411904
  * debian/patches/60-check_pointer.patch
    - Check pointer before passing it to g_locale_to_utf8().

 -- Michael Biebl <biebl@debian.org>  Wed, 21 Feb 2007 00:00:25 +0100

tracker (0.5.4-3) unstable; urgency=medium

  * debian/patches/40-inotify_syscalls.patch
    - Add missing inotify syscall numbers for mips, hppa and m68k.
      Fixes a FTBFS on these architectures, so priority medium.

 -- Michael Biebl <biebl@debian.org>  Tue, 20 Feb 2007 23:43:36 +0100

tracker (0.5.4-2) unstable; urgency=low

  * debian/control
    - Add python-gtk2 (<< 2.10) as alternative to python-gobject.
  * debian/rules
    - Pass the deskbar-applet plugin directory path to dh_pycentral.

 -- Michael Biebl <biebl@debian.org>  Sun, 28 Jan 2007 12:56:17 +0100

tracker (0.5.4-1) unstable; urgency=low

  [ Johan Kiviniemi ]
  * New upstream release.
    - Also contains a plugin for deskbar-applet.
      The new binary package is called libdeskbar-tracker.
      Use python-central to create the package.
  * Added debian/watch.
  * debian/copyright:
    - Mention the deskbar plugin.
  * debian/patches/10-deskbar_plugin_hashbang.patch:
    - Remove the #! line from the deskbar plugin.
  * debian/patches/20-trackerd_manpage.patch:
    - Fix markup.
    - Replace $Home with $HOME.
  * debian/patches/30-deskbar_plugin_max_results.patch:
    - Increase the maximum number of listed results from 2 to 10.
  * debian/control:
    - Add Recommends: untex to tracker and Recommends: xdg-utils to
      tracker-search-tool.
    - Add libmagic-dev as new build depencency.  

  [ Michael Biebl ]
  * Review Johan's work and upload to unstable.
    Thanks a lot, Johan!

 -- Michael Biebl <biebl@debian.org>  Sat, 27 Jan 2007 18:13:51 +0100

tracker (0.5.3-1) unstable; urgency=low

  * Initial release. Closes: #387110
    Based on work by Laurent Aguerreche and Jamie McCracken.
  * Build against system sqlite library.
  * Do not ship the internal o3totxt utility but rather add a
    Recommends: o3read.
  * Write missing man pages.

 -- Michael Biebl <biebl@debian.org>  Fri, 19 Jan 2007 00:29:39 +0100
